<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Quản Lý Bán Hàng - Test Frontend</title>
</head>

<body>
    <h1>Test CRUD Functions</h1>

    <h2>Thêm Khách Hàng</h2>
    <form id="khachhang-form">
        <input type="text" id="kh-ten" placeholder="Tên KH" required>
        <input type="text" id="kh-sdt" placeholder="SĐT KH" required>
        <input type="email" id="kh-email" placeholder="Email KH">
        <input type="text" id="kh-diachi" placeholder="Địa chỉ KH">
        <button type="submit">Thêm Khách Hàng</button>
    </form>
    <div id="khachhang-result"></div>

    <h2>Danh Sách Khách Hàng</h2>
    <button id="load-khachhang">Tải Danh Sách</button>
    <ul id="khachhang-list"></ul>

    <script>
        const BASE_URL = "http://localhost:8000";

        // Thêm khách hàng
        document.getElementById("khachhang-form").onsubmit = async function (e) {
            e.preventDefault();
            const data = {
                TenKH: document.getElementById("kh-ten").value,
                SdtKH: document.getElementById("kh-sdt").value,
                EmailKH: document.getElementById("kh-email").value,
                DiaChiKH: document.getElementById("kh-diachi").value
            };
            const res = await fetch(BASE_URL + "/khachhang/", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data)
            });
            const result = await res.json();
            document.getElementById("khachhang-result").innerText = "Thêm thành công: " + JSON.stringify(result, null, 2);
        };

        // Xem danh sách khách hàng
        document.getElementById("load-khachhang").onclick = async function () {
            const res = await fetch(BASE_URL + "/khachhang/");
            const list = await res.json();
            const ul = document.getElementById("khachhang-list");
            ul.innerHTML = "";
            list.forEach(kh => {
                const li = document.createElement("li");
                li.innerText = `${kh.TenKH} - ${kh.SdtKH} - ${kh.EmailKH} - ${kh.DiaChiKH}`;
                ul.appendChild(li);
            });
        };
    </script>
    <!-- Add this below your Khách Hàng section in index.html -->

    <h2>Thêm Nhân Viên</h2>
    <form id="nhanvien-form">
        <input type="text" id="nv-ten" placeholder="Tên NV" required>
        <input type="text" id="nv-chucvu" placeholder="Chức vụ" required>
        <input type="text" id="nv-sdt" placeholder="SĐT NV" required>
        <button type="submit">Thêm Nhân Viên</button>
    </form>
    <div id="nhanvien-result"></div>

    <h2>Danh Sách Nhân Viên</h2>
    <button id="load-nhanvien">Tải Danh Sách</button>
    <ul id="nhanvien-list"></ul>

    <script>
        // ...existing script...

        // Thêm nhân viên
        document.getElementById("nhanvien-form").onsubmit = async function (e) {
            e.preventDefault();
            const data = {
                TenNV: document.getElementById("nv-ten").value,
                ChucVu: document.getElementById("nv-chucvu").value,
                SdtNV: document.getElementById("nv-sdt").value
            };
            const res = await fetch(BASE_URL + "/nhanvien/", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data)
            });
            const result = await res.json();
            document.getElementById("nhanvien-result").innerText = "Thêm thành công: " + JSON.stringify(result, null, 2);
        };

        // Xem danh sách nhân viên
        document.getElementById("load-nhanvien").onclick = async function () {
            const res = await fetch(BASE_URL + "/nhanvien/");
            const list = await res.json();
            const ul = document.getElementById("nhanvien-list");
            ul.innerHTML = "";
            list.forEach(nv => {
                const li = document.createElement("li");
                li.innerText = `${nv.TenNV} - ${nv.ChucVu} - ${nv.SdtNV}`;
                ul.appendChild(li);
            });
        };
    </script>
</body>

</html>